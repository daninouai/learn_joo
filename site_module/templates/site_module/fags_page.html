{% extends 'shared/defaults_layout/_layout.html' %}

{% block title %}
    لرنجو | سوالات
{% endblock %}

{% block content %}
    <main id="main" class="main">

        <div class="pagetitle">
            <h1 class="mb-3">سوالات</h1>
            <nav>
                <ol class="breadcrumb">
                    <li class="breadcrumb-item active"><a href="{% url 'home_page' %}">سوالات</a></li>
                </ol>
            </nav>
        </div><!-- End Page Title -->
        <section class="section">
            <div class="row">
                <div class="col-lg-12">

                    <div class="card">
                        <div class="card-header">سوالات پر تکرار</div>
                        <div class="card-body">
                            <div class="p-4">
                                <div class="text-center d-flex flex-column">
                                    <div class="">
                                        <i class="bi bi-question-circle-fill fs-1 pb-4"></i>
                                    </div>
                                    <h3 class="no-margin no-padding text-size-mini">سوال های شما</h3>
                                </div>
                                <div class="guides">
                                    <div class="link-widget">
                                        <ul class="main-guides list-unstyled pr-0">
                                            {% for question in fags %}
                                                <li class="mb-4 main-guide">
                                                    <div class="d-flex ai-center justify-content-between">
                                                        <a class="text-subtitle-strong cursor-pointer">
                                                            {{ question.title }}
                                                        </a>
                                                        <i class="bi bi-caret-down"></i>
                                                    </div>
                                                    <hr>
                                                    <ul class="sub-guide list-unstyled pr-0" style="max-height: 64px;">
                                                        <li class="pr-3">
                                                            <p>
                                                                {{ question.description }}
                                                            </p>
                                                        </li>
                                                    </ul>
                                                </li>
                                            {% empty %}
                                                -
                                            {% endfor %}
                                        </ul>
                                    </div><!-- end link-widget -->
                                </div>
                            </div>
                        </div>
                    </div><!-- End Card with header and footer -->

                </div>
            </div>
        </section>
    
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

        <script>
            $(document).ready(function () {
                $(".main-guide").each(function () {
                    var subGuidegories = $(this).find(".sub-guide");
                    var mainGuidesCaret = $(this).find(".bi");

                    if (subGuidegories.hasClass("active")) {
                        subGuidegories.css("max-height", subGuidegories[0].scrollHeight + "px");
                        mainGuidesCaret.attr("class", "bi bi-caret-down");
                    } else {
                        subGuidegories.css("max-height", "0");
                        mainGuidesCaret.attr("class", "bi bi-caret-right");
                    }

                    $(this).click(function () {
                        subGuidegories.toggleClass("active");

                        if (subGuidegories.hasClass("active")) {
                            subGuidegories.css("max-height", subGuidegories[0].scrollHeight + "px");
                            mainGuidesCaret.attr("class", "bi bi-caret-down");
                        } else {
                            subGuidegories.css("max-height", "0");
                            mainGuidesCaret.attr("class", "bi bi-caret-right");
                        }
                    });
                });
            });

            function moveToSection(section) {
                document.getElementById(section).scrollIntoView({behavior: "smooth"});
            }

        </script>

    </main><!-- End #main -->
{% endblock %}